(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t){e.exports={shopDataURL:"https://webmppcapstone.blob.core.windows.net/data/itemsdata.json"}},39:function(e,t,a){e.exports=a(79)},54:function(e,t,a){},56:function(e,t,a){},6:function(e,t){e.exports={GET_DATA:"GET_DATA",LOADED:"LOADED",UPDATE_FILTERS:"UPDATE_FILTERS",CART_ADD_ITEM:"CART_ADD_ITEM"}},79:function(e,t,a){"use strict";a.r(t);a(40),a(43);var n=a(0),r=a.n(n),c=a(34),o=a.n(c),l=a(12),i=a(4),s=a(36),m=a(15),u=a(6),d=Object(l.b)({shopData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.GET_DATA:return[].concat(Object(m.a)(e),[t.data]);default:return e}},loaded:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case u.LOADED:return!0;default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inStockOnly:!1,sortBy:"lowToHigh"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.UPDATE_FILTERS:var a=Object(s.a)({},t.data.filter,t.data.state);return Object.assign({},e,a);default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.CART_ADD_ITEM:var a=e.findIndex(function(e){return e.name===t.data.name});if(-1===a)return[].concat(Object(m.a)(e),[t.data]);var n=Object(m.a)(e);return n[a].quantity=parseInt(n[a].quantity)+parseInt(t.data.quantity),n;default:return e}},productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SORT_DATA:var a=[];return t.data.forEach(function(e){return e.subcategories.forEach(function(e){return e.items.forEach(function(e){return a.push(e),e})})}),[].concat(Object(m.a)(e),a);default:return e}}}),p=a(82),f=(a(54),a(17)),E=a(18),h=a(23),g=a(19),y=a(22),b=(a(56),a(37)),v=a.n(b),N=a(38),C=function(e){return{type:u.GET_DATA,data:e}},D=function(e){return{type:u.LOADED,isLoaded:e}},I=a(84),k=a(80),O=a(78),w=a(81),j=a(9),T=function(e){var t=0;return e.cartItems.forEach(function(e){t+=e.quantity}),r.a.createElement(w.a,{activeClassName:"active",className:"nav-link",to:"/shopping-cart"},r.a.createElement(j.a,{icon:"shopping-cart"})," Cart ",parseInt(t))},L=Object(i.b)(function(e){return{cartItems:e.cart}})(T),A=function(){return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-primary"},r.a.createElement("div",{className:"container"},r.a.createElement(O.a,{className:"navbar-brand",to:"/"},"WorldWideImporters"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},"Menu"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(w.a,{activeClassName:"active",className:"nav-link",to:"/shop"},"Shop all")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(L,null)))))))},x=function(e){return e.loaded?r.a.createElement("div",null,r.a.createElement("h3",null,"Carousel"),r.a.createElement("section",{id:"productCarousel",className:"carousel slide","data-ride":"carousel"},r.a.createElement("ol",{className:"carousel-indicators"},r.a.createElement("li",{"data-target":"#productCarousel","data-slide-to":"0",className:"active"}),r.a.createElement("li",{"data-target":"#productCarousel","data-slide-to":"1"}),r.a.createElement("li",{"data-target":"#productCarousel","data-slide-to":"2"})),r.a.createElement("div",{className:"carousel-inner"},r.a.createElement("article",{className:"carousel-item active"},r.a.createElement("img",{src:e.data[0].subcategories[0].items[0].imagelink,alt:"..."})),r.a.createElement("article",{className:"carousel-item"},r.a.createElement("img",{src:e.data[0].subcategories[0].items[1].imagelink,alt:"..."})),r.a.createElement("article",{className:"carousel-item"},r.a.createElement("img",{src:e.data[0].subcategories[0].items[2].imagelink,alt:"..."}))),r.a.createElement("a",{className:"carousel-control-prev",href:"#productCarousel",role:"button","data-slide":"prev"},r.a.createElement(j.a,{"aria-hidden":"true",icon:"chevron-left"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#productCarousel",role:"button","data-slide":"next"},r.a.createElement(j.a,{"aria-hidden":"true",icon:"chevron-right"}),r.a.createElement("span",{className:"sr-only"},"Next")))):r.a.createElement("p",null,"Loading...")},S=Object(i.b)(function(e){return{data:e.shopData[0],loaded:e.loaded}})(x),_=function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Carousel Tracker"))},F=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home"),r.a.createElement(S,null),r.a.createElement(_,null))},q=function(e){if(e.loaded){var t=function(e){return e.toLowerCase().split(" ").join("-")},a=e.data.map(function(e,a){return r.a.createElement("article",{key:"category"+e.category},r.a.createElement("a",{"data-toggle":"collapse",href:"#collapse"+a,role:"button","aria-expanded":"false","aria-controls":"collapseExample"},e.category," ",r.a.createElement(j.a,{icon:"caret-down"})),r.a.createElement("ul",{id:"collapse"+a,className:"collapse"},e.subcategories.map(function(a,n){var c=0===a.items.length?"disabled":null;return r.a.createElement("li",{key:a.name},r.a.createElement(O.a,{to:"/shop/"+t(e.category)+"/"+t(a.name),className:c},a.name)," (",a.items.length,")")})))});return r.a.createElement("section",{className:"accordion card bg-light p-3 mb-5",id:"categoryListAccordion"},r.a.createElement("p",{className:"h5 mb-3"},"Categories"),a)}return r.a.createElement("p",null,"Loading...")},B=Object(i.b)(function(e,t){return{data:e.shopData[0],loaded:e.loaded}})(q),R=function(e){if("category"===e.itemType){var t=e.itemData.subcategories.map(function(e){return r.a.createElement("li",{key:"subCat-"+e.name.split(" ").join("")},e.name)});return r.a.createElement(O.a,{to:"/shop/"+e.itemData.category.toLowerCase().split(" ").join("-"),className:"card item-card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.itemData.category),r.a.createElement("p",{className:"card-text"},"Includes products for:"),r.a.createElement("ul",null,t)))}if("subCategory"===e.itemType)return r.a.createElement(O.a,{to:"/shop/"+e.categoryInfo.category.toLowerCase().split(" ").join("-")+"/"+e.itemData.name.toLowerCase().split(" ").join("-"),className:"card item-card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.itemData.name),r.a.createElement("p",{className:"card-text"},"There are ",e.itemData.items.length," items for sale in this section.")));if("product"===e.itemType)return r.a.createElement(O.a,{to:"/shop/"+e.categoryInfo.category.toLowerCase().split(" ").join("-")+"/"+e.categoryInfo.subcategory.toLowerCase().split(" ").join("-")+"/"+e.itemData.name.toLowerCase().split(" ").join("-"),className:"card item-card product-card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{src:e.itemData.imagelink,alt:e.itemData.name,className:"card-img-top"}),r.a.createElement("h5",{className:"card-title"},e.itemData.name),r.a.createElement("small",null,"$",e.itemData.price.toFixed(2)),r.a.createElement("p",{className:"card-text"},e.itemData.description),r.a.createElement("button",{onClick:function(t){return function(t){console.log(t),t.preventDefault(),e.onCartAddItem({name:e.itemData.name,quantity:1,item:e.itemData})}(t)},className:"btn btn-primary"},"Add to cart")))},U=function(e){var t,a,n=(t=e.categoryInfo.subcategory,a=" ",-1!==t.indexOf("-")?t.toLowerCase().split("-").map(function(e){return-1===e.indexOf("and")?e[0].toUpperCase()+e.slice(1,e.length):e}).join(a):t.toLowerCase().split(" ").map(function(e){return-1===e.indexOf("and")?e[0].toUpperCase()+e.slice(1,e.length):e}).join(a));return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",null,"Showing ",e.filteredItemsList.length," of ",e.itemsList.length," items in ",n),r.a.createElement("form",{className:"my-3 form-inline"},r.a.createElement("div",{className:"form-group form-check"},r.a.createElement("input",{onChange:function(t){return e.onFilterChange({filter:"inStockOnly",state:t.target.checked})},type:"checkbox",className:"form-check-input",id:"exampleCheck1"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"exampleCheck1"},"Show in-stock only\xa0",r.a.createElement("span",{className:"text-muted"},"(",e.itemsList.filter(function(e){return e.stock>0}).length,")"))),r.a.createElement("div",{className:"ml-3 form-group"},r.a.createElement("label",{className:"sr-only",htmlFor:"itemSort"},"Sort items:"),r.a.createElement("select",{onChange:function(t){return e.onFilterChange({filter:"sortBy",state:t.target.value})},className:"form-control custom-select custom-select-sm ml-2",id:"itemSort",defaultValue:"lowToHigh"},r.a.createElement("option",{value:"lowToHigh"},"Price (low to high)"),r.a.createElement("option",{value:"highToLow"},"Price (high to low)")))))},P=function(e){return{type:u.UPDATE_FILTERS,data:e}},M=Object(i.b)(function(e,t){return{data:e.shopData[0],loaded:e.loaded,categoryInfo:t.categoryInfo}},function(e){return{onFilterChange:function(t){e(P(t))}}})(U),G=a(83),H=function(e){var t=function(e,t){return-1!==e.indexOf("-")?e.toLowerCase().split("-").map(function(e){return-1===e.indexOf("and")?e[0].toUpperCase()+e.slice(1,e.length):e}).join(t):e.toLowerCase().split(" ").map(function(e){return-1===e.indexOf("and")?e[0].toUpperCase()+e.slice(1,e.length):e}).join(t)};if(e.loaded){if(e.categoryInfo.subcategory){var a=t(e.categoryInfo.category," "),n=t(e.categoryInfo.subcategory," ");if(0===e.data.filter(function(e){return t(e.category," ")===a})[0].subcategories.filter(function(e){return e.name===n}).length)return r.a.createElement(G.a,{to:"/404"});var c=e.data.filter(function(e){return t(e.category," ")===a})[0].subcategories.filter(function(e){return e.name===n})[0].items,o=function(t){var a=t;if(e.filters.sortBy)if("lowToHigh"===e.filters.sortBy){var n=a.sort(function(e,t){return e.price-t.price});a=n}else{var r=a.sort(function(e,t){return t.price-e.price});a=r}if(e.filters.inStockOnly){var c=a.filter(function(e){return e.stock>0});a=c}return a}(c);return 0===o.length?r.a.createElement("section",{id:"shopBodyContent",className:"p-5"},r.a.createElement("p",{className:"lead"},"Sorry, it looks like we don't have any products in this category right now."),r.a.createElement("p",{className:"lead"},"Look in a different category to see what we have for sale.")):r.a.createElement("section",{id:"shopBodyContent",className:"container-fluid"},r.a.createElement(M,{itemsList:c,filteredItemsList:o,categoryInfo:e.categoryInfo}),r.a.createElement("div",{className:"card-container"},o.map(function(t,a){return r.a.createElement(R,{onCartAddItem:e.onCartAddItem,key:"product-"+t.name,itemData:t,itemIndex:a,itemType:"product",categoryInfo:e.categoryInfo,history:e.history})})))}if(e.categoryInfo.category){var l=t(e.categoryInfo.category," ");return 0===e.data.filter(function(e){return e.category===l}).length?r.a.createElement(G.a,{to:"/404"}):r.a.createElement("section",{id:"shopBodyContent",className:"shop-content__no-sub-cat"},r.a.createElement("h3",null,"Subcategories in ",l),r.a.createElement("p",null,"Pick a subcategory"),r.a.createElement("div",{className:"card-container"},e.data.filter(function(e){return e.category===l})[0].subcategories.map(function(t,a){return r.a.createElement(R,{key:"subcategory-"+t.name,itemData:t,itemIndex:a,itemType:"subCategory",categoryInfo:e.categoryInfo})})))}return r.a.createElement("section",{id:"shopBodyContent",className:"shopContent-all"},r.a.createElement("p",null,"Pick a category below or in the panel on the left."),r.a.createElement("div",{className:"card-container"},e.data.map(function(e,t){return r.a.createElement(R,{key:"category-"+e.category,itemData:e,itemType:"category"})})))}return r.a.createElement("p",null,"Loading...")},Q=function(e){return{type:u.CART_ADD_ITEM,data:e}},W=Object(i.b)(function(e,t){return{data:e.shopData[0],loaded:e.loaded,productList:e.productList,filters:e.filters,categoryInfo:t.categoryInfo,history:t.history}},function(e){return{onCartAddItem:function(t){e(Q(t))}}})(H),$=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement(B,null)),r.a.createElement("div",{className:"col-md-9"},r.a.createElement(W,{categoryInfo:e.match.params,history:e.history}))))},J=function(e){var t=0;if(e.cart.forEach(function(e){t+=e.quantity}),0===t)return r.a.createElement("div",null,r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h2",null,"Cart Items"),r.a.createElement("p",null,"There's nothing in your cart. Better get shopping!")),r.a.createElement("div",{className:"col"},r.a.createElement("h2",null,"Cart Summary"))),r.a.createElement(O.a,{className:"btn btn-primary",to:"/shop"},"Continue shopping"));var a=e.cart.map(function(e,t){return console.log(e),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",null,e.name),r.a.createElement("p",null,"$",e.item.price.toFixed(2)),r.a.createElement("p",null,"Quantity: ",e.quantity))});return r.a.createElement("div",null,r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h2",null,"Cart Items"),r.a.createElement("div",{className:"card"},a)),r.a.createElement("div",{className:"col"},r.a.createElement("h2",null,"Cart Summary"))),r.a.createElement(O.a,{className:"btn btn-primary",to:"/shop"},"Continue shopping"))},V=Object(i.b)(function(e){return{cart:e.cart}},function(e){return{onCartChange:function(t){e(Q(t))}}})(J),z=a(11),K=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).state={quantity:1},a.handleChange=a.handleChange.bind(Object(z.a)(Object(z.a)(a))),a.onSubmit=a.onSubmit.bind(Object(z.a)(Object(z.a)(a))),a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"handleChange",value:function(e){this.setState({quantity:parseInt(e.target.value)})}},{key:"onSubmit",value:function(e){this.props.onCartAddItem({name:this.props.item.name,quantity:this.state.quantity,item:this.props.item}),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("form",{className:"form-inline product-page__add-to-cart-form mb-4"},r.a.createElement("label",{htmlFor:"itemQuantity"},"Quantity: "),r.a.createElement("input",{onChange:this.handleChange,className:"form-control ml-2 mr-3",id:"itemQuantity",type:"number",min:"1",max:this.props.item.stock,defaultValue:"1"}),r.a.createElement("button",{onClick:this.onSubmit,className:"btn btn-primary"},"Add to cart"))}}]),t}(n.Component),X=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Error! Page Not Found."),r.a.createElement("p",null,"Go to ",r.a.createElement(O.a,{to:"/"},"home")," or check to be sure you typed the address correctly."))},Y=function(e){if(e.loaded){if(0!==e.data.filter(function(t){return t.category===e.categoryName})[0].subcategories.filter(function(t){return t.name===e.subcategoryName})[0].items.filter(function(t){return t.name===e.productName}).length){for(var t=e.data.filter(function(t){return t.category===e.categoryName})[0].subcategories.filter(function(t){return t.name===e.subcategoryName})[0].items.filter(function(t){return t.name===e.productName})[0],a=[],n=0;n<t.rating;n++)a.push(r.a.createElement(j.a,{key:"star"+n,icon:"star"}));return r.a.createElement("section",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-5 col-lg-3"},r.a.createElement("img",{className:"product-image",src:t.imagelink,alt:""})),r.a.createElement("div",{className:"col-md-6 offset-md-1 col-lg-8"},r.a.createElement("h1",null,t.name),r.a.createElement("p",null,"$",t.price.toFixed(2)),r.a.createElement("p",null,a),r.a.createElement("p",null,0===t.stock?"Sorry. Out of stock.":t.stock+" currently in stock."),r.a.createElement("p",null,t.description),r.a.createElement(K,{onCartAddItem:e.onCartAddItem,item:t}),r.a.createElement(O.a,{className:"btn btn-outline-primary mt-5",to:"/shop/"+e.match.params.category+"/"+e.match.params.subcategory},"Back to ",e.subcategoryName))))}return r.a.createElement(X,null)}return r.a.createElement("p",null,"Loading...")},Z=Object(i.b)(function(e,t){var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return e.indexOf(a),e.toLowerCase().split(a).map(function(e){return-1===e.indexOf("and")?e[0].toUpperCase()+e.slice(1,e.length):e}).join(t)};return{data:e.shopData[0],loaded:e.loaded,categoryName:a(t.match.params.category," "),subcategoryName:a(t.match.params.subcategory," "),productName:a(t.match.params.product," ")}},function(e){return{onCartAddItem:function(t){e(Q(t))}}})(Y),ee=function(){return r.a.createElement("footer",{className:"bg-primary"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Footer")))},te=a(14),ae=a(13);te.b.add(ae.d,ae.c,ae.b,ae.a,ae.e);var ne=function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentWillMount",value:function(){v.a.get(N.shopDataURL).then(function(e){re.dispatch(C(e.data))}).then(function(e){re.dispatch(D(!0))})}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(A,null),r.a.createElement("div",{id:"bodyContent",className:"container mt-3 mb-5"},r.a.createElement(I.a,null,r.a.createElement(k.a,{path:"/shop/:category/:subcategory/:product",component:Z}),r.a.createElement(k.a,{path:"/shop/:category/:subcategory",component:$}),r.a.createElement(k.a,{path:"/shop/:category",component:$}),r.a.createElement(k.a,{exact:!0,path:"/shop",component:$}),r.a.createElement(k.a,{exact:!0,path:"/shopping-cart",component:V}),r.a.createElement(k.a,{exact:!0,path:"/",component:F}),r.a.createElement(k.a,{component:X}))),r.a.createElement(ee,null))}}]),t}(n.Component);a.d(t,"store",function(){return re});var re=Object(l.c)(d),ce=document.getElementById("root");o.a.render(r.a.createElement(i.a,{store:re},r.a.createElement(p.a,{basename:"/msft-frontend-capstone"},r.a.createElement(ne,null))),ce)}},[[39,2,1]]]);
//# sourceMappingURL=main.be6a150d.chunk.js.map